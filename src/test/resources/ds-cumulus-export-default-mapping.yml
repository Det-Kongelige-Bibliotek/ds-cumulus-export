# Field mapping and conversion configuration. Place the file as "ds-cumulus-export-default-mapping.yml"
# on the classpath or in user.home.
digisam:
  maps:
    default:
      converters:
        - source: "guid"
          dest: "id"
          destType: "string"
          required: true
          pattern: ".+"
          replacement: "ds_billedsamling_$0"

        - source: "Titel"
          dest: "title"
          destType: "string"

        - source: "Item Creation Date"
          dest: "created_date"
          destType: "datetime"
          destFallback: "created_date_verbatim"

        - source: "Ã…r"
          dest: "datetime"
          destType: "datetimeRange"
          destFallback: "datetime_verbatim"

        - source: "Categories"
          dest: "keyword"
          destType: "string"
          lineBreakIsMulti: true

        - source: "Emneord"
          dest: "subject"
          destType: "string"
          lineBreakIsMulti: true

        - source: "Ophav"
          dest: "author"
          destType: "string"
          lineBreakIsMulti: true

        - source: "Copyright"
          dest: "license"
          destType: "string"

        - source: "Asset Reference"
          dest: "image_preview"
          destType: "string"
          pattern: "^.*:/Depot/DAMX/Online_Master_Arkiv/(.*).tif"
          replacement: "https://kb-images.kb.dk/DAMJP2/online_master_arkiv/$1/full/!345,2555/0/native.jpg"

        - source: "Asset Reference"
          dest: "image_full"
          destType: "string"
          pattern: "^.*:/Depot/DAMX/Online_Master_Arkiv/(.*).tif"
          replacement: "https://kb-images.kb.dk/DAMJP2/online_master_arkiv/$1/full/full/0/default.jpg"

        - source: "Asset Reference"
          sourceType: "assetReference"
          dest: "iiif"
          destType: "string"
          pattern: "^.*:/Depot/DAMX/Online_Master_Arkiv/(.*).tif"
          replacement: "https://kb-images.kb.dk/DAMJP2/online_master_arkiv/$1/"
